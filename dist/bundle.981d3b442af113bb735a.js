(()=>{"use strict";class e{constructor(e,t,r,a){this.leaugeName=e,this.leaugePhoto=t,this.id=`tracker${r}`,this.deleteKey=a}startLeauge(){let e=document.querySelector(".leauge-display").cloneNode(!0),t=e.querySelector(".title .title-name"),r=e.querySelector(".title .title-img img"),a=document.querySelector("main");t.innerHTML=this.leaugeName,r.setAttribute("src",this.leaugePhoto),e.classList.add(`${this.id}`,`${this.deleteKey}`),e.classList.remove("disactive"),a.appendChild(e)}}class t{constructor(e,t,r,a,i,l,s,c,o,n){this.teamA=e,this.teamAPhoto=t,this.teamB=r,this.teamBPhoto=a,this.status=i,this.time=l,this.scoreA=s,this.scoreB=c,this.goals=o,this.id=n}startMatch(e){let t=document.querySelector(".card").cloneNode(!0),r=t.querySelector(".right-team .team-name"),a=t.querySelector(".left-team .team-name"),i=t.querySelector(".right-team .team-img img"),l=t.querySelector(".left-team .team-img img"),s=t.querySelector(".match-results .status"),c=t.querySelector(".match-results .score"),o=document.querySelector(`.tracker${this.id}`),n=e.querySelectorAll(".teamA .matchScorer .goal"),m=e.querySelectorAll(".teamB .matchScorer .goal");if(n.length>0){let e=t.querySelector(".match-info .right-info");t.querySelector(".match-info").classList.remove("disactive"),n.forEach((t=>{let r=t.querySelector(".player"),a=t.querySelector(".time"),i=document.createElement("div");i.innerHTML=` <i class="fa-regular fa-futbol"></i>\n                <div class="name">${r.innerHTML}</div>\n                <div class="time">${a.innerHTML}'</div>`,t.classList.contains("owngoal")&&i.querySelector(".fa-futbol").classList.add("own"),i.classList.add("goal","testing"),e.appendChild(i)}))}if(m.length>0){let e=t.querySelector(".match-info .left-info");t.querySelector(".match-info").classList.remove("disactive"),m.forEach((t=>{let r=t.querySelector(".player"),a=t.querySelector(".time"),i=document.createElement("div");i.innerHTML=` <i class="fa-regular fa-futbol"></i>\n                <div class="name">${r.innerHTML}</div>\n                <div class="time">${a.innerHTML}'</div>`,t.classList.contains("owngoal")&&i.querySelector(".fa-futbol").classList.add("own"),i.classList.add("goal","testing"),e.appendChild(i)}))}r.innerHTML=this.teamA,a.innerHTML=this.teamB,i.setAttribute("src",this.teamAPhoto),l.setAttribute("src",this.teamBPhoto),s.innerHTML=this.status,"-"!==this.scoreA?c.innerHTML=`${this.scoreB} - ${this.scoreA}`:c.innerHTML=this.time,t.classList.remove("disactive"),t.classList.add("animate__animated","animate__flipInX"),o.appendChild(t)}}function r(e){let t=document.querySelectorAll(`.${e}`),r=document.querySelector(".no-matches");document.querySelector(".loading").classList.remove("disactive"),r.classList.add("disactive"),t.forEach((e=>{e.remove()}))}window.onload=function a(i,l,s){let c=new XMLHttpRequest;c.responseType="document",c.onload=()=>new Promise(((e,t)=>{let i=c.responseXML.getElementsByTagName("body")[0],l=document.querySelector(".date-arrow .date-view"),s=i.querySelector(".dayName h2");if(l.innerHTML=s.innerHTML,document.querySelector(".fa-arrow-alt-circle-left").onclick=function(){let e=i.querySelectorAll(".dayTabLinks")[4].getAttribute("date").split("/");r("deleteKey"),a(e[1],e[0],e[2])},document.querySelector(".fa-arrow-alt-circle-right").onclick=function(){let e=i.querySelectorAll(".dayTabLinks")[2].getAttribute("date").split("/");r("deleteKey"),a(e[1],e[0],e[2])},i.querySelectorAll(".mtchCntrContainer .matchItem").length>0)e(i);else if(0===i.querySelectorAll(".mtchCntrContainer .matchItem").length){document.querySelector(".no-matches").classList.remove("disactive"),document.querySelector(".loading").classList.add("disactive")}else t(c.status)})).then((r=>{let a=r.querySelectorAll(".mtchCntrContainer .matchItem"),i=0;return a.forEach((r=>{new e(r.querySelector(".ttl h2 a").innerHTML,r.querySelector(".ttl a img").getAttribute("src"),i,"deleteKey").startLeauge(),r.querySelectorAll(".mtchObjContainer .matchObj").forEach((e=>{let r="";r=e.classList.contains("soon")?"لم تبدا":e.classList.contains("done")?"إنتهت":"جارية",new t(e.querySelector(".teamA .teamName").innerHTML,e.querySelector(".teamA a img").getAttribute("src"),e.querySelector(".teamB .teamName").innerHTML,e.querySelector(".teamB a img").getAttribute("src"),r,e.querySelector(".resultDiv .matchTime").innerHTML,e.querySelector(".resultDiv .LiveTeamA").innerHTML,e.querySelector(".resultDiv .LiveTeamB").innerHTML,2,i).startMatch(e)})),i++})),document.querySelector(".loading").classList.add("disactive"),r})).then((e=>{})).catch((e=>{console.log(e)})),c.open("GET",`https://crospass.herokuapp.com/yallakora.com/Match-Center/?date=${l}/${i}/${s}#days`,!0),c.send()}()})();